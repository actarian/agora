{"version":3,"sources":["src/js/main.js","../../src/js/agora/agora.service.js","../../src/js/environment/environment.js","../../src/js/location/location.service.js","../../src/js/modal/modal.service.js","../../src/js/http/http.service.js","../../src/js/local-storage/local-storage.service.js","../../src/js/user/user.service.js","../../src/js/app.component.js","../../src/js/app.module.js","../../src/js/main.js"],"names":["global","factory","exports","module","require","define","amd","self","rxcomp","form","rxjs","operators","this","rxcompForm","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","AgoraService","onStreamPublished","bind","onStreamAdded","onStreamSubscribed","onStreamRemoved","onPeerLeaved","onTokenPrivilegeWillExpire","onTokenPrivilegeDidExpire","_proto","connect","_this","createClient","joinChannel","onError","error","console","log","event","client","stream","id","getId","uid","subscribe","video","document","querySelector","setAttribute","classList","add","play","stop","remove","next","AgoraRTC","VERSION","checkSystemRequirements","mode","codec","init","on","_this2","join","detectDevices","devices","videos","length","audios","createLocalStream","deviceId","getDevices","filter","device","indexOf","kind","map","label","i","push","microphoneId","cameraId","local","createStream","streamID","audio","screen","initLocalStream","_this3","publishLocalStream","publish","unpublishLocalStream","unpublish","leaveChannel","leave","STATIC","window","location","port","host","LocationService","split","get","key","URLSearchParams","search","set","keyOrValue","value","params","replace","history","pushState","title","url","href","toString","deserialize","encoded","decode","serialize","encode","decoded","json","atob","JSON","parse","stringify","btoa","ModalEvent","data","ModalResolveEvent","_ModalEvent","apply","arguments","ModalRejectEvent","_ModalEvent2","ModalService","open$","modal","getTemplate$","src","pipe","template","node","getNode","tap","modal$","switchMap","events$","load$","from","fetch","then","response","text","div","createElement","innerHTML","firstElementChild","reject","resolve","Subject","HttpService","http$","method","format","response_","getUrl","headers","Accept","Content-Type","body","undefined","ok","Promise","catchError","throwError","getError","get$","query","delete$","post$","put$","patch$","object","statusCode","status","statusMessage","statusText","LocalStorageService","delete","name","isLocalStorageSupported","localStorage","removeItem","exist","e","cache","setItem","supported","UserService","setUser","user","user$","me$","mapStatic__","register$","payload","update","login$","_this4","logout$","_this5","retrieve$","_this6","action","BehaviorSubject","AppComponent","_Component","onInit","getContext","onDropped","parseQueryString","openLogin","openRegister","openLoginRegisterModal","view","takeUntil","unsubscribe$","Component","meta","selector","AppModule","_Module","Module","imports","CoreModule","FormModule","declarations","bootstrap","Browser"],"mappings":"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","file":"docs/js/main.min.js","sourcesContent":[null,"export default class AgoraService {\n\n\tconstructor() {\n\t\tthis.onStreamPublished = this.onStreamPublished.bind(this);\n\t\tthis.onStreamAdded = this.onStreamAdded.bind(this);\n\t\tthis.onStreamSubscribed = this.onStreamSubscribed.bind(this);\n\t\tthis.onStreamRemoved = this.onStreamRemoved.bind(this);\n\t\tthis.onPeerLeaved = this.onPeerLeaved.bind(this);\n\t\tthis.onTokenPrivilegeWillExpire = this.onTokenPrivilegeWillExpire.bind(this);\n\t\tthis.onTokenPrivilegeDidExpire = this.onTokenPrivilegeDidExpire.bind(this);\n\t}\n\n\tconnect() {\n\t\tthis.createClient(() => {\n\t\t\tthis.joinChannel();\n\t\t});\n\t}\n\n\tonError(error) {\n\t\tconsole.log('Agora', error);\n\t}\n\n\tonStreamPublished(event) {\n\t\tconsole.log('Publish local stream successfully');\n\t}\n\n\tonStreamAdded(event) {\n\t\tconst client = this.client;\n\t\tvar stream = event.stream;\n\t\tvar id = stream.getId();\n\t\tconsole.log('New stream added: ' + id);\n\t\tif (id !== this.uid) {\n\t\t\tclient.subscribe(stream, function(error) {\n\t\t\t\tconsole.log('stream subscribe failed', error);\n\t\t\t});\n\t\t}\n\t}\n\n\tonStreamSubscribed(event) {\n\t\tvar stream = event.stream;\n\t\tvar id = stream.getId();\n\t\tconsole.log('Subscribe remote stream successfully: ' + id);\n\t\tconst video = document.querySelector('.video-other');\n\t\tif (video) {\n\t\t\tvideo.setAttribute('id', 'agora_remote_' + id);\n\t\t\tvideo.classList.add('playing');\n\t\t}\n\t\t// console.log('video', video);\n\t\tstream.play('agora_remote_' + id);\n\t}\n\n\t// Occurs when the remote stream is removed; for example, a peer user calls Client.unpublish.\n\tonStreamRemoved(event) {\n\t\tvar stream = event.stream;\n\t\tvar id = stream.getId();\n\t\tconsole.log('stream-removed remote-uid: ', id);\n\t\tif (id !== this.uid) {\n\t\t\tstream.stop('agora_remote_' + id);\n\t\t\tconst video = document.querySelector('.video-other');\n\t\t\tif (video) {\n\t\t\t\tvideo.classList.remove('playing');\n\t\t\t}\n\t\t}\n\t\tconsole.log('stream-removed remote-uid: ', id);\n\t}\n\n\tonPeerLeaved(event) {\n\t\tvar id = event.uid;\n\t\tconsole.log('peer-leave id', id);\n\t\tif (id !== this.uid) {\n\t\t\tconst video = document.querySelector('.video-other');\n\t\t\tif (video) {\n\t\t\t\tvideo.classList.remove('playing');\n\t\t\t}\n\t\t}\n\t}\n\n\tonTokenPrivilegeWillExpire(event) {\n\t\t// After requesting a new token\n\t\t// client.renewToken(token);\n\t\tconsole.log('onTokenPrivilegeWillExpire');\n\t}\n\n\tonTokenPrivilegeDidExpire(event) {\n\t\t// After requesting a new token\n\t\t// client.renewToken(token);\n\t\tconsole.log('onTokenPrivilegeDidExpire');\n\t}\n\n\tcreateClient(next) {\n\t\tconsole.log('agora sdk version: ' + AgoraRTC.VERSION + ' compatible: ' + AgoraRTC.checkSystemRequirements());\n\t\tconst client = this.client = AgoraRTC.createClient({ mode: 'live', codec: 'h264' });\n\t\tclient.init('ab4289a46cd34da6a61fd8d66774b65f', function() {\n\t\t\tconsole.log('AgoraRTC client initialized');\n\t\t\tnext();\n\t\t}, function(error) {\n\t\t\tconsole.log('AgoraRTC client init failed', error);\n\t\t});\n\t\tclient.on('stream-published', this.onStreamPublished);\n\t\t//subscribe remote stream\n\t\tclient.on('stream-added', this.onStreamAdded);\n\t\tclient.on('stream-subscribed', this.onStreamSubscribed);\n\t\tclient.on('error', this.onError);\n\t\t// Occurs when the peer user leaves the channel; for example, the peer user calls Client.leave.\n\t\tclient.on('peer-leave', this.onPeerLeaved);\n\t\tclient.on('stream-removed', this.onStreamRemoved);\n\t\tclient.on('onTokenPrivilegeWillExpire', this.onTokenPrivilegeWillExpire);\n\t\tclient.on('onTokenPrivilegeDidExpire', this.onTokenPrivilegeDidExpire);\n\t}\n\n\tjoinChannel() {\n\t\tconst client = this.client;\n\t\tconst tokenOrKey = null;\n\t\tconst channelName = 'Channel';\n\t\tconst uid = null;\n\t\tclient.join(tokenOrKey, channelName, uid, (uid) => {\n\t\t\tconsole.log('User ' + uid + ' join channel successfully');\n\t\t\t// !!! require localhost or https\n\t\t\tthis.detectDevices((devices) => {\n\t\t\t\tconsole.log(devices);\n\t\t\t\tif (devices.videos.length && devices.audios.length) {\n\t\t\t\t\tthis.createLocalStream(uid, devices.audios[0].deviceId, devices.videos[0].deviceId);\n\t\t\t\t};\n\t\t\t});\n\t\t}, function(error) {\n\t\t\tconsole.log('Join channel failed', error);\n\t\t});\n\t\t// https://console.agora.io/invite?sign=YXBwSWQlM0RhYjQyODlhNDZjZDM0ZGE2YTYxZmQ4ZDY2Nzc0YjY1ZiUyNm5hbWUlM0RaYW1wZXR0aSUyNnRpbWVzdGFtcCUzRDE1ODY5NjM0NDU=// join link expire in 30 minutes\n\t}\n\n\tdetectDevices(next) {\n\t\tAgoraRTC.getDevices((devices) => {\n\t\t\tdevices\n\t\t\t\t.filter(device => ['audioinput', 'videoinput'].indexOf(device.kind) !== -1)\n\t\t\t\t.map((device) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tlabel: device.label,\n\t\t\t\t\t\tdeviceId: device.deviceId,\n\t\t\t\t\t\tkind: device.kind,\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\tconst videos = [];\n\t\t\tconst audios = [];\n\t\t\tfor (let i = 0; i < devices.length; i++) {\n\t\t\t\tconst device = devices[i];\n\t\t\t\tif ('videoinput' == device.kind) {\n\t\t\t\t\tvideos.push({\n\t\t\t\t\t\tlabel: device.label || 'camera-' + videos.length,\n\t\t\t\t\t\tdeviceId: device.deviceId,\n\t\t\t\t\t\tkind: device.kind\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif ('audioinput' == device.kind) {\n\t\t\t\t\taudios.push({\n\t\t\t\t\t\tlabel: device.label || 'microphone-' + videos.length,\n\t\t\t\t\t\tdeviceId: device.deviceId,\n\t\t\t\t\t\tkind: device.kind\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tnext({ videos: videos, audios: audios });\n\t\t});\n\t}\n\n\tcreateLocalStream(uid, microphoneId, cameraId) {\n\t\tconst local = this.local = AgoraRTC.createStream({\n\t\t\tstreamID: uid,\n\t\t\taudio: true,\n\t\t\tvideo: true,\n\t\t\tscreen: false,\n\t\t\tmicrophoneId: microphoneId,\n\t\t\tcameraId: cameraId\n\t\t});\n\t\tthis.initLocalStream();\n\t}\n\n\tinitLocalStream() {\n\t\tconst client = this.client;\n\t\tconst local = this.local;\n\t\tlocal.init(() => {\n\t\t\tconsole.log('getUserMedia successfully');\n\t\t\tconst video = document.querySelector('.video-me');\n\t\t\tif (video) {\n\t\t\t\tvideo.setAttribute('id', 'agora_local_' + local.streamID);\n\t\t\t\tlocal.play('agora_local_' + local.streamID);\n\t\t\t}\n\t\t\tthis.publishLocalStream();\n\t\t}, function(error) {\n\t\t\tconsole.log('getUserMedia failed', error);\n\t\t});\n\t}\n\n\tpublishLocalStream() {\n\t\tconst client = this.client;\n\t\tconst local = this.local;\n\t\t//publish local stream\n\t\tclient.publish(local, function(error) {\n\t\t\tconsole.log('Publish local stream error: ' + error);\n\t\t});\n\t}\n\n\tunpublishLocalStream() {\n\t\tconst client = this.client;\n\t\tconst local = this.local;\n\t\tclient.unpublish(local, function(error) {\n\t\t\tconsole.log('unpublish failed');\n\t\t});\n\t}\n\n\tleaveChannel() {\n\t\tclient.leave(function() {\n\t\t\tconsole.log('Leave channel successfully');\n\t\t}, function(error) {\n\t\t\tconsole.log('Leave channel failed');\n\t\t});\n\t}\n\n}\n","export const STATIC = window.location.port === '41999' || window.location.host === 'actarian.github.io';\nexport const DEVELOPMENT = ['localhost', '127.0.0.1', '0.0.0.0'].indexOf(window.location.host.split(':')[0]) !== -1;\nexport const PRODUCTION = !DEVELOPMENT;\nexport const ENV = {\n\tSTATIC,\n\tDEVELOPMENT,\n\tPRODUCTION\n};\n","export default class LocationService {\n\n\tstatic get(key) {\n\t\tconst params = new URLSearchParams(window.location.search);\n\t\t// console.log('LocationService.get', params);\n\t\treturn params.get(key);\n\t}\n\n\tstatic set(keyOrValue, value) {\n\t\tconst params = new URLSearchParams(window.location.search);\n\t\tif (typeof keyOrValue === 'string') {\n\t\t\tparams.set(keyOrValue, value);\n\t\t} else {\n\t\t\tparams.set(keyOrValue, '');\n\t\t}\n\t\tthis.replace(params);\n\t\t// console.log('LocationService.set', params, keyOrValue, value);\n\t}\n\n\tstatic replace(params) {\n\t\tif (window.history && window.history.pushState) {\n\t\t\tconst title = document.title;\n\t\t\tconst url = `${window.location.href.split('?')[0]}?${params.toString()}`;\n\t\t\twindow.history.pushState(params.toString(), title, url);\n\t\t}\n\t}\n\n\tstatic deserialize(key) {\n\t\tconst encoded = this.get('params');\n\t\treturn this.decode(key, encoded);\n\t}\n\n\tstatic serialize(keyOrValue, value) {\n\t\tconst params = this.deserialize();\n\t\tconst encoded = this.encode(keyOrValue, value, params);\n\t\tthis.set('params', encoded);\n\t}\n\n\tstatic decode(key, encoded) {\n\t\tlet decoded = null;\n\t\tif (encoded) {\n\t\t\tconst json = window.atob(encoded);\n\t\t\tdecoded = JSON.parse(json);\n\t\t}\n\t\tif (key && decoded) {\n\t\t\tdecoded = decoded[key];\n\t\t}\n\t\treturn decoded || null;\n\t}\n\n\tstatic encode(keyOrValue, value, params) {\n\t\tparams = params || {};\n\t\tlet encoded = null;\n\t\tif (typeof keyOrValue === 'string') {\n\t\t\tparams[keyOrValue] = value;\n\t\t} else {\n\t\t\tparams = keyOrValue;\n\t\t}\n\t\tconst json = JSON.stringify(params);\n\t\tencoded = window.btoa(json);\n\t\treturn encoded;\n\t}\n\n}\n","import { from, Subject } from 'rxjs';\nimport { map, switchMap, tap } from 'rxjs/operators';\n\nexport class ModalEvent {\n\n\tconstructor(data) {\n\t\tthis.data = data;\n\t}\n\n}\n\nexport class ModalResolveEvent extends ModalEvent {}\nexport class ModalRejectEvent extends ModalEvent {}\n\nexport default class ModalService {\n\n\tstatic open$(modal) {\n\t\treturn this.getTemplate$(modal.src).pipe(\n\t\t\tmap(template => {\n\t\t\t\treturn { node: this.getNode(template), data: modal.data, modal: modal };\n\t\t\t}),\n\t\t\ttap(node => this.modal$.next(node)),\n\t\t\tswitchMap(node => this.events$),\n\t\t)\n\t}\n\n\tstatic load$(modal) {\n\n\t}\n\n\tstatic getTemplate$(url) {\n\t\treturn from(fetch(url).then(response => {\n\t\t\treturn response.text();\n\t\t}));\n\t}\n\n\tstatic getNode(template) {\n\t\tconst div = document.createElement(\"div\");\n\t\tdiv.innerHTML = template;\n\t\tconst node = div.firstElementChild;\n\t\treturn node;\n\t}\n\n\tstatic reject(data) {\n\t\tthis.modal$.next(null);\n\t\tthis.events$.next(new ModalRejectEvent(data));\n\t}\n\n\tstatic resolve(data) {\n\t\tthis.modal$.next(null);\n\t\tthis.events$.next(new ModalResolveEvent(data));\n\t}\n\n}\n\nModalService.modal$ = new Subject();\nModalService.events$ = new Subject();\n","import { from, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { STATIC } from '../environment/environment';\n\nexport default class HttpService {\n\n\tstatic http$(method, url, data, format = 'json') {\n\t\tconst methods = ['POST', 'PUT', 'PATCH'];\n\t\tlet response_ = null;\n\t\treturn from(fetch(this.getUrl(url, format), {\n\t\t\tmethod: method,\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: methods.indexOf(method) !== -1 ? JSON.stringify(data) : undefined\n\t\t}).then((response) => {\n\t\t\tresponse_ = response;\n\t\t\t// console.log(response);\n\t\t\tif (response.ok) {\n\t\t\t\treturn response[format]();\n\t\t\t} else {\n\t\t\t\treturn response.json().then(json => {\n\t\t\t\t\treturn Promise.reject(json);\n\t\t\t\t});\n\t\t\t}\n\t\t})).pipe(\n\t\t\tcatchError(error => {\n\t\t\t\treturn throwError(this.getError(error, response_));\n\t\t\t})\n\t\t);\n\t}\n\n\tstatic get$(url, data, format) {\n\t\tconst query = this.query(data);\n\t\treturn this.http$('GET', `${url}${query}`, undefined, format);\n\t}\n\n\tstatic delete$(url) {\n\t\treturn this.http$('DELETE', url);\n\t}\n\n\tstatic post$(url, data) {\n\t\treturn this.http$('POST', url, data);\n\t}\n\n\tstatic put$(url, data) {\n\t\treturn this.http$('PUT', url, data);\n\t}\n\n\tstatic patch$(url, data) {\n\t\treturn this.http$('PATCH', url, data);\n\t}\n\n\tstatic query(data) {\n\t\treturn ''; // todo\n\t}\n\n\tstatic getUrl(url, format = 'json') {\n\t\t// console.log(url);\n\t\treturn STATIC && format === 'json' && url.indexOf('/') === 0 ? `.${url}.json` : url;\n\t}\n\n\tstatic getError(object, response) {\n\t\tlet error = typeof object === 'object' ? object : {};\n\t\tif (!error.statusCode) {\n\t\t\terror.statusCode = response ? response.status : 0;\n\t\t}\n\t\tif (!error.statusMessage) {\n\t\t\terror.statusMessage = response ? response.statusText : object;\n\t\t}\n\t\tconsole.log('HttpService.getError', error, object);\n\t\treturn error;\n\t}\n\n}\n","export default class LocalStorageService {\n\n\tstatic delete(name) {\n\t\tif (this.isLocalStorageSupported()) {\n\t\t\twindow.localStorage.removeItem(name);\n\t\t}\n\t}\n\n\tstatic exist(name) {\n\t\tif (this.isLocalStorageSupported()) {\n\t\t\treturn window.localStorage[name] !== undefined;\n\t\t}\n\t}\n\n\tstatic get(name) {\n\t\tlet value = null;\n\t\tif (this.isLocalStorageSupported() && window.localStorage[name] !== undefined) {\n\t\t\ttry {\n\t\t\t\tvalue = JSON.parse(window.localStorage[name]);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log('LocalStorageService.get.error parsing', name, e);\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t}\n\n\tstatic set(name, value) {\n\t\tif (this.isLocalStorageSupported()) {\n\t\t\ttry {\n\t\t\t\tconst cache = [];\n\t\t\t\tconst json = JSON.stringify(value, function(key, value) {\n\t\t\t\t\tif (typeof value === 'object' && value !== null) {\n\t\t\t\t\t\tif (cache.indexOf(value) !== -1) {\n\t\t\t\t\t\t\t// Circular reference found, discard key\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcache.push(value);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t});\n\t\t\t\twindow.localStorage.setItem(name, json);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log('LocalStorageService.set.error serializing', name, value, e);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic isLocalStorageSupported() {\n\t\tif (this.supported) {\n\t\t\treturn true;\n\t\t}\n\t\tlet supported = false;\n\t\ttry {\n\t\t\tsupported = 'localStorage' in window && window.localStorage !== null;\n\t\t\tif (supported) {\n\t\t\t\twindow.localStorage.setItem('test', '1');\n\t\t\t\twindow.localStorage.removeItem('test');\n\t\t\t} else {\n\t\t\t\tsupported = false;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsupported = false;\n\t\t}\n\t\tthis.supported = supported;\n\t\treturn supported;\n\t}\n\n}\n","import { BehaviorSubject } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { STATIC } from '../environment/environment';\nimport HttpService from '../http/http.service';\nimport LocalStorageService from '../local-storage/local-storage.service';\n\nexport default class UserService {\n\n\tstatic setUser(user) {\n\t\tthis.user$.next(user);\n\t}\n\n\tstatic me$() {\n\t\treturn HttpService.get$('/api/users/me').pipe(\n\t\t\tmap((user) => this.mapStatic__(user, 'me')),\n\t\t\tswitchMap(user => {\n\t\t\t\tthis.setUser(user);\n\t\t\t\treturn this.user$;\n\t\t\t})\n\t\t);\n\t}\n\n\tstatic register$(payload) {\n\t\treturn HttpService.post$('/api/users/register', payload).pipe(\n\t\t\tmap((user) => this.mapStatic__(user, 'register')),\n\t\t);\n\t}\n\n\tstatic update(payload) {\n\t\treturn HttpService.post$('/api/users/updateprofile', payload).pipe(\n\t\t\tmap((user) => this.mapStatic__(user, 'register')),\n\t\t);\n\t}\n\n\tstatic login$(payload) {\n\t\treturn HttpService.post$('/api/users/login', payload).pipe(\n\t\t\tmap((user) => this.mapStatic__(user, 'login')),\n\t\t);\n\t}\n\n\tstatic logout$() {\n\t\treturn HttpService.post$('/api/users/logout').pipe(\n\t\t\tmap((user) => this.mapStatic__(user, 'logout')),\n\t\t);\n\t}\n\tstatic retrieve$(payload) {\n\t\treturn HttpService.post$('/api/users/retrievepassword', payload).pipe(\n\t\t\tmap((user) => this.mapStatic__(user, 'retrieve')),\n\t\t);\n\t}\n\n\tstatic mapStatic__(user, action = 'me') {\n\t\tif (!STATIC) {\n\t\t\treturn user;\n\t\t};\n\t\tswitch (action) {\n\t\t\tcase 'me':\n\t\t\t\tif (!LocalStorageService.exist('user')) {\n\t\t\t\t\tuser = null;\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase 'register':\n\t\t\t\tLocalStorageService.set('user', user);\n\t\t\t\tbreak;\n\t\t\tcase 'login':\n\t\t\t\tLocalStorageService.set('user', user);\n\t\t\t\tbreak;\n\t\t\tcase 'logout':\n\t\t\t\tLocalStorageService.delete('user');\n\t\t\t\tbreak;\n\t\t}\n\t\treturn user;\n\t}\n\n}\n\nUserService.user$ = new BehaviorSubject(null);\n","import { Component, getContext } from 'rxcomp';\nimport { takeUntil } from 'rxjs/operators';\nimport AgoraService from './agora/agora.service';\nimport { STATIC } from './environment/environment';\nimport LocationService from './location/location.service';\nimport ModalService, { ModalResolveEvent } from './modal/modal.service';\nimport UserService from './user/user.service';\n\nconst src = STATIC ? '/agora/club-modal.html' : '/Viewdoc.cshtml?co_id=23649';\n\nexport default class AppComponent extends Component {\n\n\t// !!! require localhost or https\n\n\tonInit() {\n\t\tconst { node } = getContext(this);\n\t\tnode.classList.remove('hidden');\n\t\t// console.log('context', context);\n\t\t/*\n\t\tUserService.user$.pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe(user => {\n\t\t\tconsole.log('AppComponent.user$', user);\n\t\t\tthis.user = user;\n\t\t\tthis.pushChanges();\n\t\t});\n\t\tsetTimeout(() => {\n\t\t\tthis.parseQueryString();\n\t\t}, 500);\n\t\t*/\n\t\tconst agora = new AgoraService();\n\t\tagora.connect();\n\t}\n\n\tonDropped(id) {\n\t\tconsole.log('AppComponent.onDropped', id);\n\t}\n\n\tparseQueryString() {\n\t\tconst action = LocationService.get('action');\n\t\tswitch (action) {\n\t\t\tcase 'login':\n\t\t\t\tthis.openLogin();\n\t\t\t\tbreak;\n\t\t\tcase 'register':\n\t\t\t\tthis.openRegister();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\topenLogin() {\n\t\tthis.openLoginRegisterModal(1);\n\t}\n\n\topenRegister() {\n\t\tthis.openLoginRegisterModal(2);\n\t}\n\n\topenLoginRegisterModal(view = 1) {\n\t\tModalService.open$({ src: src, data: { view } }).pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe(event => {\n\t\t\t// console.log('RegisterOrLoginComponent.onRegister', event);\n\t\t\tif (event instanceof ModalResolveEvent) {\n\t\t\t\tUserService.setUser(event.data);\n\t\t\t}\n\t\t});\n\t}\n\n\t// onView() { const context = getContext(this); }\n\n\t// onChanges() {}\n\n\t// onDestroy() {}\n}\n\nAppComponent.meta = {\n\tselector: '[app-component]',\n};\n","import { CoreModule, Module } from 'rxcomp';\nimport { FormModule } from 'rxcomp-form';\nimport AppComponent from './app.component';\n/*\nimport AgentsComponent from './agents/agents.component';\nimport AppearDirective from './appear/appear.directive';\nimport BimLibraryComponent from './bim-library/bim-library';\nimport ClickOutsideDirective from './click-outside/click-outside.directive';\nimport ClubForgotComponent from './club/club-forgot.component';\nimport ClubModalComponent from './club/club-modal.component';\nimport ClubPasswordEditComponent from './club/club-password-edit.component';\nimport ClubPasswordRecoveryComponent from './club/club-password-recovery.component';\nimport ClubProfileComponent from './club/club-profile.component';\nimport ClubSigninComponent from './club/club-signin.component';\nimport ClubSignupComponent from './club/club-signup.component';\nimport ClubComponent from './club/club.component';\nimport DropdownItemDirective from './dropdown/dropdown-item.directive';\nimport DropdownDirective from './dropdown/dropdown.directive';\nimport ControlCheckboxComponent from './forms/control-checkbox.component';\nimport ControlCustomSelectComponent from './forms/control-custom-select.component';\nimport ControlEmailComponent from './forms/control-email.component';\nimport ControlFileComponent from './forms/control-file.component';\nimport ControlPasswordComponent from './forms/control-password.component';\nimport ControlSelectComponent from './forms/control-select.component';\nimport ControlTextComponent from './forms/control-text.component';\nimport ControlTextareaComponent from './forms/control-textarea.component';\nimport ErrorsComponent from './forms/errors.component';\nimport TestComponent from './forms/test.component';\nimport HeaderComponent from './header/header.component';\nimport HtmlPipe from './html/html.pipe';\nimport LazyDirective from './lazy/lazy.directive';\nimport MainMenuComponent from './main-menu/main-menu.component';\nimport MediaLibraryComponent from './media-library/media-library';\nimport ModalOutletComponent from './modal/modal-outlet.component';\nimport ModalComponent from './modal/modal.component';\nimport NaturalFormContactComponent from './natural-form/natural-form-contact.component';\nimport NaturalFormControlComponent from './natural-form/natural-form-control.component';\nimport NaturalFormNewsletterComponent from './natural-form/natural-form-newsletter.component';\nimport NaturalFormRequestInfoComponent from './natural-form/natural-form-request-info.component';\nimport NaturalFormSearchComponent from './natural-form/natural-form-search.component';\nimport NaturalFormSignupComponent from './natural-form/natural-form-signup.component';\nimport NaturalFormComponent from './natural-form/natural-form.component';\nimport PriceListComponent from './price-list/price-list';\nimport RegisterOrLoginComponent from './register-or-login/register-or-login.component';\nimport RequestInfoCommercialComponent from './request-info-commercial/request-info-commercial.component';\nimport ReservedAreaComponent from './reserved-area/reserved-area.component';\nimport ScrollToDirective from './scroll-to/scroll-to.directive';\nimport SecureDirective from './secure/secure.directive';\nimport FileSizePipe from './size/size.pipe';\nimport SwiperListingDirective from './swiper/swiper-listing.directive';\nimport SwiperSlidesDirective from './swiper/swiper-slides.directive';\nimport SwiperDirective from './swiper/swiper.directive';\nimport VideoComponent from './video/video.component';\nimport WorkWithUsComponent from './work-with-us/work-with-us.component';\nimport YoutubeComponent from './youtube/youtube.component';\nimport ZoomableDirective from './zoomable/zoomable.directive';\n*/\n\nexport default class AppModule extends Module {}\n\nAppModule.meta = {\n\timports: [\n\t\tCoreModule,\n\t\tFormModule,\n\t],\n\tdeclarations: [\n\t\t/*\n\t\tAgentsComponent,\n\t\tAppearDirective,\n\t\tBimLibraryComponent,\n\t\tClickOutsideDirective,\n\t\tClubComponent,\n\t\tClubForgotComponent,\n\t\tClubModalComponent,\n\t\tClubPasswordRecoveryComponent,\n\t\tClubPasswordEditComponent,\n\t\tClubProfileComponent,\n\t\tClubSigninComponent,\n\t\tClubSignupComponent,\n\t\tControlCheckboxComponent,\n\t\tControlCustomSelectComponent,\n\t\tControlEmailComponent,\n\t\tControlFileComponent,\n\t\tControlPasswordComponent,\n\t\tControlSelectComponent,\n\t\tControlTextComponent,\n\t\tControlTextareaComponent,\n\t\tDropdownDirective,\n\t\tDropdownItemDirective,\n\t\tErrorsComponent,\n\t\tFileSizePipe,\n\t\tHtmlPipe,\n\t\tHeaderComponent,\n\t\tLazyDirective,\n\t\tMainMenuComponent,\n\t\tMediaLibraryComponent,\n\t\tModalOutletComponent,\n\t\tModalComponent,\n\t\tPriceListComponent,\n\t\tNaturalFormComponent,\n\t\tNaturalFormSearchComponent,\n\t\tNaturalFormContactComponent,\n\t\tNaturalFormRequestInfoComponent,\n\t\tNaturalFormControlComponent,\n\t\tNaturalFormNewsletterComponent,\n\t\tNaturalFormSignupComponent,\n\t\tRequestInfoCommercialComponent,\n\t\tRegisterOrLoginComponent,\n\t\tReservedAreaComponent,\n\t\tSecureDirective,\n\t\tScrollToDirective,\n\t\tSwiperDirective,\n\t\tSwiperListingDirective,\n\t\tSwiperSlidesDirective,\n\t\tTestComponent,\n\t\t// ValueDirective,\n\t\tVideoComponent,\n\t\tWorkWithUsComponent,\n\t\tYoutubeComponent,\n\t\tZoomableDirective,\n\t\t*/\n\t],\n\tbootstrap: AppComponent,\n};\n","import { Browser } from 'rxcomp';\nimport AppModule from './app.module';\n\nBrowser.bootstrap(AppModule);\n"]}