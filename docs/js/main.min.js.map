{"version":3,"sources":["src/js/main.js","../../src/js/environment/environment.js","../../src/js/location/location.service.js","../../src/js/modal/modal.service.js","../../src/js/http/http.service.js","../../src/js/local-storage/local-storage.service.js","../../src/js/user/user.service.js","../../src/js/app.component.js","../../src/js/app.module.js","../../src/js/main.js"],"names":["global","factory","exports","module","require","define","amd","self","rxcomp","form","rxjs","operators","this","rxcompForm","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","_readOnlyError","name","Error","STATIC","window","location","port","host","LocationService","indexOf","split","get","key","URLSearchParams","search","set","keyOrValue","value","params","replace","history","pushState","title","document","url","href","toString","deserialize","encoded","decode","serialize","encode","decoded","json","atob","JSON","parse","stringify","btoa","ModalEvent","data","ModalResolveEvent","_ModalEvent","apply","arguments","ModalRejectEvent","_ModalEvent2","ModalService","open$","modal","_this","getTemplate$","src","pipe","map","template","node","getNode","tap","modal$","next","switchMap","events$","load$","from","fetch","then","response","text","div","createElement","innerHTML","firstElementChild","reject","resolve","Subject","HttpService","http$","method","format","response_","getUrl","headers","Accept","Content-Type","body","undefined","ok","Promise","catchError","error","throwError","getError","get$","query","delete$","post$","put$","patch$","object","statusCode","status","statusMessage","statusText","console","log","LocalStorageService","delete","isLocalStorageSupported","localStorage","removeItem","exist","e","cache","push","setItem","supported","UserService","setUser","user","user$","me$","mapStatic__","register$","payload","_this2","update","_this3","login$","_this4","logout$","_this5","retrieve$","_this6","action","BehaviorSubject","AppComponent","_Component","_proto","onInit","getContext","classList","remove","takeUntil","unsubscribe$","subscribe","pushChanges","setTimeout","parseQueryString","createClient","joinChannel","AgoraRTC","VERSION","checkSystemRequirements","client","mode","codec","init","on","event","stream","id","getId","uid","video","querySelector","setAttribute","add","play","stop","join","detectDevices","devices","videos","length","audios","publishVideo","microphoneId","cameraId","getDevices","filter","device","kind","label","deviceId","i","localStream","createStream","streamID","audio","screen","publish","unpublishVideo","unpublish","leaveChannel","leave","onDropped","openLogin","openRegister","openLoginRegisterModal","view","Component","meta","selector","AppModule","_Module","Module","imports","CoreModule","FormModule","declarations","bootstrap","Browser"],"mappings":"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","file":"docs\\js\\main.min.js","sourcesContent":[null,"export const STATIC = window.location.port === '41999' || window.location.host === 'actarian.github.io';\r\nexport const DEVELOPMENT = ['localhost', '127.0.0.1', '0.0.0.0'].indexOf(window.location.host.split(':')[0]) !== -1;\r\nexport const PRODUCTION = !DEVELOPMENT;\r\nexport const ENV = {\r\n\tSTATIC,\r\n\tDEVELOPMENT,\r\n\tPRODUCTION\r\n};\r\n","export default class LocationService {\r\n\r\n\tstatic get(key) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\t// console.log('LocationService.get', params);\r\n\t\treturn params.get(key);\r\n\t}\r\n\r\n\tstatic set(keyOrValue, value) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\tif (typeof keyOrValue === 'string') {\r\n\t\t\tparams.set(keyOrValue, value);\r\n\t\t} else {\r\n\t\t\tparams.set(keyOrValue, '');\r\n\t\t}\r\n\t\tthis.replace(params);\r\n\t\t// console.log('LocationService.set', params, keyOrValue, value);\r\n\t}\r\n\r\n\tstatic replace(params) {\r\n\t\tif (window.history && window.history.pushState) {\r\n\t\t\tconst title = document.title;\r\n\t\t\tconst url = `${window.location.href.split('?')[0]}?${params.toString()}`;\r\n\t\t\twindow.history.pushState(params.toString(), title, url);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic deserialize(key) {\r\n\t\tconst encoded = this.get('params');\r\n\t\treturn this.decode(key, encoded);\r\n\t}\r\n\r\n\tstatic serialize(keyOrValue, value) {\r\n\t\tconst params = this.deserialize();\r\n\t\tconst encoded = this.encode(keyOrValue, value, params);\r\n\t\tthis.set('params', encoded);\r\n\t}\r\n\r\n\tstatic decode(key, encoded) {\r\n\t\tlet decoded = null;\r\n\t\tif (encoded) {\r\n\t\t\tconst json = window.atob(encoded);\r\n\t\t\tdecoded = JSON.parse(json);\r\n\t\t}\r\n\t\tif (key && decoded) {\r\n\t\t\tdecoded = decoded[key];\r\n\t\t}\r\n\t\treturn decoded || null;\r\n\t}\r\n\r\n\tstatic encode(keyOrValue, value, params) {\r\n\t\tparams = params || {};\r\n\t\tlet encoded = null;\r\n\t\tif (typeof keyOrValue === 'string') {\r\n\t\t\tparams[keyOrValue] = value;\r\n\t\t} else {\r\n\t\t\tparams = keyOrValue;\r\n\t\t}\r\n\t\tconst json = JSON.stringify(params);\r\n\t\tencoded = window.btoa(json);\r\n\t\treturn encoded;\r\n\t}\r\n\r\n}\r\n","import { from, Subject } from 'rxjs';\r\nimport { map, switchMap, tap } from 'rxjs/operators';\r\n\r\nexport class ModalEvent {\r\n\r\n\tconstructor(data) {\r\n\t\tthis.data = data;\r\n\t}\r\n\r\n}\r\n\r\nexport class ModalResolveEvent extends ModalEvent {}\r\nexport class ModalRejectEvent extends ModalEvent {}\r\n\r\nexport default class ModalService {\r\n\r\n\tstatic open$(modal) {\r\n\t\treturn this.getTemplate$(modal.src).pipe(\r\n\t\t\tmap(template => {\r\n\t\t\t\treturn { node: this.getNode(template), data: modal.data, modal: modal };\r\n\t\t\t}),\r\n\t\t\ttap(node => this.modal$.next(node)),\r\n\t\t\tswitchMap(node => this.events$),\r\n\t\t)\r\n\t}\r\n\r\n\tstatic load$(modal) {\r\n\r\n\t}\r\n\r\n\tstatic getTemplate$(url) {\r\n\t\treturn from(fetch(url).then(response => {\r\n\t\t\treturn response.text();\r\n\t\t}));\r\n\t}\r\n\r\n\tstatic getNode(template) {\r\n\t\tconst div = document.createElement(\"div\");\r\n\t\tdiv.innerHTML = template;\r\n\t\tconst node = div.firstElementChild;\r\n\t\treturn node;\r\n\t}\r\n\r\n\tstatic reject(data) {\r\n\t\tthis.modal$.next(null);\r\n\t\tthis.events$.next(new ModalRejectEvent(data));\r\n\t}\r\n\r\n\tstatic resolve(data) {\r\n\t\tthis.modal$.next(null);\r\n\t\tthis.events$.next(new ModalResolveEvent(data));\r\n\t}\r\n\r\n}\r\n\r\nModalService.modal$ = new Subject();\r\nModalService.events$ = new Subject();\r\n","import { from, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { STATIC } from '../environment/environment';\r\n\r\nexport default class HttpService {\r\n\r\n\tstatic http$(method, url, data, format = 'json') {\r\n\t\tconst methods = ['POST', 'PUT', 'PATCH'];\r\n\t\tlet response_ = null;\r\n\t\treturn from(fetch(this.getUrl(url, format), {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: {\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: methods.indexOf(method) !== -1 ? JSON.stringify(data) : undefined\r\n\t\t}).then((response) => {\r\n\t\t\tresponse_ = response;\r\n\t\t\t// console.log(response);\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response[format]();\r\n\t\t\t} else {\r\n\t\t\t\treturn response.json().then(json => {\r\n\t\t\t\t\treturn Promise.reject(json);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})).pipe(\r\n\t\t\tcatchError(error => {\r\n\t\t\t\treturn throwError(this.getError(error, response_));\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic get$(url, data, format) {\r\n\t\tconst query = this.query(data);\r\n\t\treturn this.http$('GET', `${url}${query}`, undefined, format);\r\n\t}\r\n\r\n\tstatic delete$(url) {\r\n\t\treturn this.http$('DELETE', url);\r\n\t}\r\n\r\n\tstatic post$(url, data) {\r\n\t\treturn this.http$('POST', url, data);\r\n\t}\r\n\r\n\tstatic put$(url, data) {\r\n\t\treturn this.http$('PUT', url, data);\r\n\t}\r\n\r\n\tstatic patch$(url, data) {\r\n\t\treturn this.http$('PATCH', url, data);\r\n\t}\r\n\r\n\tstatic query(data) {\r\n\t\treturn ''; // todo\r\n\t}\r\n\r\n\tstatic getUrl(url, format = 'json') {\r\n\t\t// console.log(url);\r\n\t\treturn STATIC && format === 'json' && url.indexOf('/') === 0 ? `.${url}.json` : url;\r\n\t}\r\n\r\n\tstatic getError(object, response) {\r\n\t\tlet error = typeof object === 'object' ? object : {};\r\n\t\tif (!error.statusCode) {\r\n\t\t\terror.statusCode = response ? response.status : 0;\r\n\t\t}\r\n\t\tif (!error.statusMessage) {\r\n\t\t\terror.statusMessage = response ? response.statusText : object;\r\n\t\t}\r\n\t\tconsole.log('HttpService.getError', error, object);\r\n\t\treturn error;\r\n\t}\r\n\r\n}\r\n","export default class LocalStorageService {\r\n\r\n\tstatic delete(name) {\r\n\t\tif (this.isLocalStorageSupported()) {\r\n\t\t\twindow.localStorage.removeItem(name);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic exist(name) {\r\n\t\tif (this.isLocalStorageSupported()) {\r\n\t\t\treturn window.localStorage[name] !== undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic get(name) {\r\n\t\tlet value = null;\r\n\t\tif (this.isLocalStorageSupported() && window.localStorage[name] !== undefined) {\r\n\t\t\ttry {\r\n\t\t\t\tvalue = JSON.parse(window.localStorage[name]);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('LocalStorageService.get.error parsing', name, e);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\tstatic set(name, value) {\r\n\t\tif (this.isLocalStorageSupported()) {\r\n\t\t\ttry {\r\n\t\t\t\tconst cache = [];\r\n\t\t\t\tconst json = JSON.stringify(value, function(key, value) {\r\n\t\t\t\t\tif (typeof value === 'object' && value !== null) {\r\n\t\t\t\t\t\tif (cache.indexOf(value) !== -1) {\r\n\t\t\t\t\t\t\t// Circular reference found, discard key\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcache.push(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t});\r\n\t\t\t\twindow.localStorage.setItem(name, json);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('LocalStorageService.set.error serializing', name, value, e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic isLocalStorageSupported() {\r\n\t\tif (this.supported) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tlet supported = false;\r\n\t\ttry {\r\n\t\t\tsupported = 'localStorage' in window && window.localStorage !== null;\r\n\t\t\tif (supported) {\r\n\t\t\t\twindow.localStorage.setItem('test', '1');\r\n\t\t\t\twindow.localStorage.removeItem('test');\r\n\t\t\t} else {\r\n\t\t\t\tsupported = false;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tsupported = false;\r\n\t\t}\r\n\t\tthis.supported = supported;\r\n\t\treturn supported;\r\n\t}\r\n\r\n}\r\n","import { BehaviorSubject } from 'rxjs';\r\nimport { map, switchMap } from 'rxjs/operators';\r\nimport { STATIC } from '../environment/environment';\r\nimport HttpService from '../http/http.service';\r\nimport LocalStorageService from '../local-storage/local-storage.service';\r\n\r\nexport default class UserService {\r\n\r\n\tstatic setUser(user) {\r\n\t\tthis.user$.next(user);\r\n\t}\r\n\r\n\tstatic me$() {\r\n\t\treturn HttpService.get$('/api/users/me').pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'me')),\r\n\t\t\tswitchMap(user => {\r\n\t\t\t\tthis.setUser(user);\r\n\t\t\t\treturn this.user$;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic register$(payload) {\r\n\t\treturn HttpService.post$('/api/users/register', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'register')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic update(payload) {\r\n\t\treturn HttpService.post$('/api/users/updateprofile', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'register')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic login$(payload) {\r\n\t\treturn HttpService.post$('/api/users/login', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'login')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic logout$() {\r\n\t\treturn HttpService.post$('/api/users/logout').pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'logout')),\r\n\t\t);\r\n\t}\r\n\tstatic retrieve$(payload) {\r\n\t\treturn HttpService.post$('/api/users/retrievepassword', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'retrieve')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic mapStatic__(user, action = 'me') {\r\n\t\tif (!STATIC) {\r\n\t\t\treturn user;\r\n\t\t};\r\n\t\tswitch (action) {\r\n\t\t\tcase 'me':\r\n\t\t\t\tif (!LocalStorageService.exist('user')) {\r\n\t\t\t\t\tuser = null;\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'register':\r\n\t\t\t\tLocalStorageService.set('user', user);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'login':\r\n\t\t\t\tLocalStorageService.set('user', user);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'logout':\r\n\t\t\t\tLocalStorageService.delete('user');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn user;\r\n\t}\r\n\r\n}\r\n\r\nUserService.user$ = new BehaviorSubject(null);\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { STATIC } from './environment/environment';\r\nimport LocationService from './location/location.service';\r\nimport ModalService, { ModalResolveEvent } from './modal/modal.service';\r\nimport UserService from './user/user.service';\r\n\r\nconst src = STATIC ? '/agora/club-modal.html' : '/Viewdoc.cshtml?co_id=23649';\r\n\r\nexport default class AppComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.remove('hidden');\r\n\t\t// console.log('context', context);\r\n\t\tUserService.user$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(user => {\r\n\t\t\tconsole.log('AppComponent.user$', user);\r\n\t\t\tthis.user = user;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.parseQueryString();\r\n\t\t}, 500);\r\n\t\tthis.createClient(() => {\r\n\t\t\tthis.joinChannel();\r\n\t\t});\r\n\t}\r\n\r\n\tcreateClient(next) {\r\n\t\tconsole.log(\"agora sdk version: \" + AgoraRTC.VERSION + \" compatible: \" + AgoraRTC.checkSystemRequirements());\r\n\t\tconst client = this.client = AgoraRTC.createClient({ mode: 'live', codec: \"h264\" });\r\n\t\tclient.init('ab4289a46cd34da6a61fd8d66774b65f', function() {\r\n\t\t\tconsole.log(\"AgoraRTC client initialized\");\r\n\t\t\tnext();\r\n\t\t}, function(error) {\r\n\t\t\tconsole.log(\"AgoraRTC client init failed\", error);\r\n\t\t});\r\n\t\tclient.on('stream-published', function(event) {\r\n\t\t\tconsole.log(\"Publish local stream successfully\");\r\n\t\t});\r\n\t\t//subscribe remote stream\r\n\t\tclient.on('stream-added', function(event) {\r\n\t\t\tvar stream = event.stream;\r\n\t\t\tvar id = stream.getId();\r\n\t\t\tconsole.log(\"New stream added: \" + id);\r\n\t\t\tif (id !== this.uid) {\r\n\t\t\t\tclient.subscribe(stream, function(error) {\r\n\t\t\t\t\tconsole.log(\"stream subscribe failed\", error);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\tclient.subscribe(stream, function(error) {\r\n\t\t\t\tconsole.log(\"Subscribe stream failed\", error);\r\n\t\t\t});\r\n\t\t\t*/\r\n\t\t});\r\n\t\tclient.on('stream-subscribed', function(event) {\r\n\t\t\tvar stream = event.stream;\r\n\t\t\tvar id = stream.getId();\r\n\t\t\tconsole.log(\"Subscribe remote stream successfully: \" + id);\r\n\t\t\tconst video = document.querySelector('.video');\r\n\t\t\tif (video) {\r\n\t\t\t\tvideo.setAttribute('id', 'agora_remote_' + id);\r\n\t\t\t\tvideo.classList.add('playing');\r\n\t\t\t}\r\n\t\t\tstream.play('agora_remote_' + id);\r\n\t\t});\r\n\t\tclient.on(\"error\", (error) => {\r\n\t\t\tconsole.log('Agora', error);\r\n\t\t})\r\n\t\t// Occurs when the peer user leaves the channel; for example, the peer user calls Client.leave.\r\n\t\tclient.on(\"peer-leave\", function(event) {\r\n\t\t\tvar id = event.uid;\r\n\t\t\tconsole.log(\"peer-leave id\", id);\r\n\t\t\tif (id !== this.uid) {\r\n\t\t\t\tconst video = document.querySelector('.video');\r\n\t\t\t\tif (video) {\r\n\t\t\t\t\tvideo.classList.remove('playing');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t// Occurs when the remote stream is removed; for example, a peer user calls Client.unpublish.\r\n\t\tclient.on(\"stream-removed\", function(event) {\r\n\t\t\tvar stream = event.stream;\r\n\t\t\tvar id = stream.getId();\r\n\t\t\tconsole.log('stream-removed remote-uid: ', id);\r\n\t\t\tif (id !== this.uid) {\r\n\t\t\t\tstream.stop(\"agora_remote_\" + id);\r\n\t\t\t\tconst video = document.querySelector('.video');\r\n\t\t\t\tif (video) {\r\n\t\t\t\t\tvideo.classList.remove('playing');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconsole.log('stream-removed remote-uid: ', id);\r\n\t\t});\r\n\t\tclient.on(\"onTokenPrivilegeWillExpire\", function() {\r\n\t\t\t// After requesting a new token\r\n\t\t\t// client.renewToken(token);\r\n\t\t\tconsole.log(\"onTokenPrivilegeWillExpire\");\r\n\t\t});\r\n\t\tclient.on(\"onTokenPrivilegeDidExpire\", function() {\r\n\t\t\t// After requesting a new token\r\n\t\t\t// client.renewToken(token);\r\n\t\t\tconsole.log(\"onTokenPrivilegeDidExpire\");\r\n\t\t});\r\n\t}\r\n\r\n\tjoinChannel() {\r\n\t\tconst client = this.client;\r\n\t\tconst tokenOrKey = null;\r\n\t\tconst channelName = 'Channel';\r\n\t\tconst uid = null;\r\n\t\tclient.join(tokenOrKey, channelName, uid, (uid) => {\r\n\t\t\tconsole.log(\"User \" + uid + \" join channel successfully\");\r\n\t\t\tthis.detectDevices((devices) => {\r\n\t\t\t\tif (devices.videos.length && devices.audios.length) {\r\n\t\t\t\t\tthis.publishVideo(uid, microphoneId, cameraId);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}, function(error) {\r\n\t\t\tconsole.log(\"Join channel failed\", error);\r\n\t\t});\r\n\t\t// https://console.agora.io/invite?sign=YXBwSWQlM0RhYjQyODlhNDZjZDM0ZGE2YTYxZmQ4ZDY2Nzc0YjY1ZiUyNm5hbWUlM0RaYW1wZXR0aSUyNnRpbWVzdGFtcCUzRDE1ODY5NjM0NDU=// join link expire in 30 minutes\r\n\t}\r\n\r\n\tdetectDevices(next) {\r\n\t\tAgoraRTC.getDevices((devices) => {\r\n\t\t\tdevices\r\n\t\t\t\t.filter(device => ['audioinput', 'videoinput'].indexOf(device.kind) !== -1)\r\n\t\t\t\t.map((device) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tname: device.label,\r\n\t\t\t\t\t\tvalue: device.deviceId,\r\n\t\t\t\t\t\tkind: device.kind,\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\tconst videos = [];\r\n\t\t\tconst audios = [];\r\n\t\t\tfor (let i = 0; i < devices.length; i++) {\r\n\t\t\t\tconst device = devices[i];\r\n\t\t\t\tif ('videoinput' == device.kind) {\r\n\t\t\t\t\tconst name = device.label;\r\n\t\t\t\t\tconst value = device.deviceId;\r\n\t\t\t\t\tif (!name) {\r\n\t\t\t\t\t\tname = \"camera-\" + videos.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvideos.push({\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\tvalue: value,\r\n\t\t\t\t\t\tkind: device.kind\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif ('audioinput' == device.kind) {\r\n\t\t\t\t\tconst name = device.label;\r\n\t\t\t\t\tconst value = device.deviceId;\r\n\t\t\t\t\tif (!name) {\r\n\t\t\t\t\t\tname = \"microphone-\" + audios.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t\taudios.push({\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\tvalue: value,\r\n\t\t\t\t\t\tkind: device.kind\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tnext({ videos: videos, audios: audios });\r\n\t\t});\r\n\t}\r\n\r\n\tpublishVideo(uid, microphoneId, cameraId) {\r\n\t\tconst client = this.client;\r\n\t\tconst localStream = AgoraRTC.createStream({\r\n\t\t\tstreamID: uid,\r\n\t\t\taudio: true,\r\n\t\t\tvideo: true,\r\n\t\t\tscreen: false,\r\n\t\t\tmicrophoneId: microphoneId,\r\n\t\t\tcameraId: cameraId\r\n\t\t});\r\n\t\tlocalStream.init(function() {\r\n\t\t\tconsole.log(\"getUserMedia successfully\");\r\n\t\t\tlocalStream.play('agora_local');\r\n\t\t\t//publish local stream\r\n\t\t\tclient.publish(localStream, function(error) {\r\n\t\t\t\tconsole.log(\"Publish local stream error: \" + error);\r\n\t\t\t});\r\n\t\t}, function(error) {\r\n\t\t\tconsole.log(\"getUserMedia failed\", error);\r\n\t\t});\r\n\t\tthis.localStream = localStream;\r\n\t}\r\n\r\n\tunpublishVideo() {\r\n\t\tconst client = this.client;\r\n\t\tconst localStream = this.localStream;\r\n\t\tclient.unpublish(localStream, function(error) {\r\n\t\t\tconsole.log(\"unpublish failed\");\r\n\t\t});\r\n\t}\r\n\r\n\tleaveChannel() {\r\n\t\tclient.leave(function() {\r\n\t\t\tconsole.log(\"Leave channel successfully\");\r\n\t\t}, function(error) {\r\n\t\t\tconsole.log(\"Leave channel failed\");\r\n\t\t});\r\n\t}\r\n\r\n\tonDropped(id) {\r\n\t\tconsole.log('AppComponent.onDropped', id);\r\n\t}\r\n\r\n\tparseQueryString() {\r\n\t\tconst action = LocationService.get('action');\r\n\t\tswitch (action) {\r\n\t\t\tcase 'login':\r\n\t\t\t\tthis.openLogin();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'register':\r\n\t\t\t\tthis.openRegister();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\topenLogin() {\r\n\t\tthis.openLoginRegisterModal(1);\r\n\t}\r\n\r\n\topenRegister() {\r\n\t\tthis.openLoginRegisterModal(2);\r\n\t}\r\n\r\n\topenLoginRegisterModal(view = 1) {\r\n\t\tModalService.open$({ src: src, data: { view } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('RegisterOrLoginComponent.onRegister', event);\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// onView() { const context = getContext(this); }\r\n\r\n\t// onChanges() {}\r\n\r\n\t// onDestroy() {}\r\n}\r\n\r\nAppComponent.meta = {\r\n\tselector: '[app-component]',\r\n};\r\n","import { CoreModule, Module } from 'rxcomp';\r\nimport { FormModule } from 'rxcomp-form';\r\nimport AppComponent from './app.component';\r\n/*\r\nimport AgentsComponent from './agents/agents.component';\r\nimport AppearDirective from './appear/appear.directive';\r\nimport BimLibraryComponent from './bim-library/bim-library';\r\nimport ClickOutsideDirective from './click-outside/click-outside.directive';\r\nimport ClubForgotComponent from './club/club-forgot.component';\r\nimport ClubModalComponent from './club/club-modal.component';\r\nimport ClubPasswordEditComponent from './club/club-password-edit.component';\r\nimport ClubPasswordRecoveryComponent from './club/club-password-recovery.component';\r\nimport ClubProfileComponent from './club/club-profile.component';\r\nimport ClubSigninComponent from './club/club-signin.component';\r\nimport ClubSignupComponent from './club/club-signup.component';\r\nimport ClubComponent from './club/club.component';\r\nimport DropdownItemDirective from './dropdown/dropdown-item.directive';\r\nimport DropdownDirective from './dropdown/dropdown.directive';\r\nimport ControlCheckboxComponent from './forms/control-checkbox.component';\r\nimport ControlCustomSelectComponent from './forms/control-custom-select.component';\r\nimport ControlEmailComponent from './forms/control-email.component';\r\nimport ControlFileComponent from './forms/control-file.component';\r\nimport ControlPasswordComponent from './forms/control-password.component';\r\nimport ControlSelectComponent from './forms/control-select.component';\r\nimport ControlTextComponent from './forms/control-text.component';\r\nimport ControlTextareaComponent from './forms/control-textarea.component';\r\nimport ErrorsComponent from './forms/errors.component';\r\nimport TestComponent from './forms/test.component';\r\nimport HeaderComponent from './header/header.component';\r\nimport HtmlPipe from './html/html.pipe';\r\nimport LazyDirective from './lazy/lazy.directive';\r\nimport MainMenuComponent from './main-menu/main-menu.component';\r\nimport MediaLibraryComponent from './media-library/media-library';\r\nimport ModalOutletComponent from './modal/modal-outlet.component';\r\nimport ModalComponent from './modal/modal.component';\r\nimport NaturalFormContactComponent from './natural-form/natural-form-contact.component';\r\nimport NaturalFormControlComponent from './natural-form/natural-form-control.component';\r\nimport NaturalFormNewsletterComponent from './natural-form/natural-form-newsletter.component';\r\nimport NaturalFormRequestInfoComponent from './natural-form/natural-form-request-info.component';\r\nimport NaturalFormSearchComponent from './natural-form/natural-form-search.component';\r\nimport NaturalFormSignupComponent from './natural-form/natural-form-signup.component';\r\nimport NaturalFormComponent from './natural-form/natural-form.component';\r\nimport PriceListComponent from './price-list/price-list';\r\nimport RegisterOrLoginComponent from './register-or-login/register-or-login.component';\r\nimport RequestInfoCommercialComponent from './request-info-commercial/request-info-commercial.component';\r\nimport ReservedAreaComponent from './reserved-area/reserved-area.component';\r\nimport ScrollToDirective from './scroll-to/scroll-to.directive';\r\nimport SecureDirective from './secure/secure.directive';\r\nimport FileSizePipe from './size/size.pipe';\r\nimport SwiperListingDirective from './swiper/swiper-listing.directive';\r\nimport SwiperSlidesDirective from './swiper/swiper-slides.directive';\r\nimport SwiperDirective from './swiper/swiper.directive';\r\nimport VideoComponent from './video/video.component';\r\nimport WorkWithUsComponent from './work-with-us/work-with-us.component';\r\nimport YoutubeComponent from './youtube/youtube.component';\r\nimport ZoomableDirective from './zoomable/zoomable.directive';\r\n*/\r\n\r\nexport default class AppModule extends Module {}\r\n\r\nAppModule.meta = {\r\n\timports: [\r\n\t\tCoreModule,\r\n\t\tFormModule,\r\n\t],\r\n\tdeclarations: [\r\n\t\t/*\r\n\t\tAgentsComponent,\r\n\t\tAppearDirective,\r\n\t\tBimLibraryComponent,\r\n\t\tClickOutsideDirective,\r\n\t\tClubComponent,\r\n\t\tClubForgotComponent,\r\n\t\tClubModalComponent,\r\n\t\tClubPasswordRecoveryComponent,\r\n\t\tClubPasswordEditComponent,\r\n\t\tClubProfileComponent,\r\n\t\tClubSigninComponent,\r\n\t\tClubSignupComponent,\r\n\t\tControlCheckboxComponent,\r\n\t\tControlCustomSelectComponent,\r\n\t\tControlEmailComponent,\r\n\t\tControlFileComponent,\r\n\t\tControlPasswordComponent,\r\n\t\tControlSelectComponent,\r\n\t\tControlTextComponent,\r\n\t\tControlTextareaComponent,\r\n\t\tDropdownDirective,\r\n\t\tDropdownItemDirective,\r\n\t\tErrorsComponent,\r\n\t\tFileSizePipe,\r\n\t\tHtmlPipe,\r\n\t\tHeaderComponent,\r\n\t\tLazyDirective,\r\n\t\tMainMenuComponent,\r\n\t\tMediaLibraryComponent,\r\n\t\tModalOutletComponent,\r\n\t\tModalComponent,\r\n\t\tPriceListComponent,\r\n\t\tNaturalFormComponent,\r\n\t\tNaturalFormSearchComponent,\r\n\t\tNaturalFormContactComponent,\r\n\t\tNaturalFormRequestInfoComponent,\r\n\t\tNaturalFormControlComponent,\r\n\t\tNaturalFormNewsletterComponent,\r\n\t\tNaturalFormSignupComponent,\r\n\t\tRequestInfoCommercialComponent,\r\n\t\tRegisterOrLoginComponent,\r\n\t\tReservedAreaComponent,\r\n\t\tSecureDirective,\r\n\t\tScrollToDirective,\r\n\t\tSwiperDirective,\r\n\t\tSwiperListingDirective,\r\n\t\tSwiperSlidesDirective,\r\n\t\tTestComponent,\r\n\t\t// ValueDirective,\r\n\t\tVideoComponent,\r\n\t\tWorkWithUsComponent,\r\n\t\tYoutubeComponent,\r\n\t\tZoomableDirective,\r\n\t\t*/\r\n\t],\r\n\tbootstrap: AppComponent,\r\n};\r\n","import { Browser } from 'rxcomp';\r\nimport AppModule from './app.module';\r\n\r\nBrowser.bootstrap(AppModule);\r\n"]}